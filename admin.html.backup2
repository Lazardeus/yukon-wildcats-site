<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin - Yukon Wildcats Contracting</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
    <script defer src="js/particles-config.js"></script>
    <script defer src="js/script.js"></script>
    <!-- Admin styles now in external CSS file -->
</head>
<body>
    <div id="particles-js"></div>

    <!-- Header Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <img src="assets/yukon-wildcats-logo-small-icon.png" alt="Yukon Wildcats" class="logo-img">
                <span class="logo-text">Yukon Wildcats</span>
            </div>
            
            <div class="nav-menu">
                <a href="index.html" class="nav-link">Home</a>
                <a href="services.html" class="nav-link">Services</a>
                <a href="snow.html" class="nav-link">Snow Removal</a>
                <a href="tow.html" class="nav-link">Towing</a>
                <a href="community.html" class="nav-link">Community</a>
                <a href="contact.html" class="nav-link">Contact</a>
                <a href="quote.html" class="nav-link cta-button">Get Quote</a>
            </div>
        </div>
    </nav>

    <!-- Admin Content Container -->
    <div class="admin-container">
        <!-- Login Form -->
        <div id="loginForm" class="card hover-glow admin-login-form">
            <h2>üêæ Yukon Wildcats Admin Access</h2>
            <p style="text-align: center; color: #ccc; margin-bottom: 20px;">Admin panel for Yukon Wildcats team members and management.</p>
            
            <!-- Login Type Selector -->
            <div class="login-type-selector">
                <button type="button" class="login-type-btn active" onclick="setLoginType('founders')">
                    <i class="fas fa-users"></i> Founders
                </button>
                <button type="button" class="login-type-btn" onclick="setLoginType('staff')">
                    <i class="fas fa-user-tie"></i> Staff
                </button>
            </div>
            
            <form class="admin-form">
                <label for="username">Username:</label>
                <input type="text" id="username" required placeholder="Enter your username">
                
                <label for="password">Password:</label>
                <input type="password" id="password" required placeholder="Enter your password">
                
                <button type="submit" class="cta-button">Login</button>
            </form>
        </div>

        <!-- Admin Panel (hidden by default) -->
        <div id="adminPanel" class="admin-panel">
            <button onclick="logout()" class="cta-button logout-button">Logout</button>
            <h2>Welcome, <span id="userRole">Admin</span></h2>
            
            <div class="admin-tabs">
                <button class="tab-button active" data-tab="announcements">Announcements</button>
                <button class="tab-button" data-tab="content">Content</button>
                <button class="tab-button" data-tab="team">Team</button>
                <button class="tab-button" data-tab="photos">Photos</button>
                <button class="tab-button" data-tab="submissions">Submissions</button>
                <button class="tab-button" data-tab="webquotes">Web Quotes</button>
            </div>

            <!-- Announcements Tab -->
            <div id="announcementsTab" class="tab-content active">
                <h3>üéä Advanced Announcement System</h3>
                
                <!-- Live Preview Section -->
                <div class="announcement-preview-section">
                    <h4>Live Preview</h4>
                    <div id="announcementPreview" class="preview-container">
                        <div class="preview-screen">
                            <!-- Live preview will appear here -->
                        </div>
                    </div>
            margin: 50px auto;
            padding: 40px;
        }
        
        .login-type-selector {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
        }
        
        .login-type-btn {
            flex: 1;
            padding: 12px 16px;
            background: rgba(255, 215, 0, 0.1);
            border: 2px solid #333;
            color: #ccc;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            font-weight: bold;
        }
        
        .login-type-btn:hover {
            border-color: #ffd700;
            background: rgba(255, 215, 0, 0.2);
            color: #ffd700;
        }
        
        .login-type-btn.active {
            background: linear-gradient(45deg, #ffd700, #ffed4e);
            border-color: #ffd700;
            color: #000;
            box-shadow: 0 5px 15px rgba(255, 215, 0, 0.3);
            transform: translateY(-2px);
        }
        
        .login-type-btn:hover:not(.active) {
            transform: translateY(-1px);
        }
        
        .admin-form {
            margin-top: 20px;
        }
        
        .admin-form label {
            display: block;
            color: #ffd700;
            font-weight: 500;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .admin-form input {
            width: 100%;
            padding: 12px 16px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            color: #fff;
            font-size: 1rem;
            margin-bottom: 20px;
            transition: all 0.3s ease;
            box-sizing: border-box;
        }
        
        .admin-form input:focus {
            outline: none;
            border-color: #ffd700;
            box-shadow: 0 0 0 3px rgba(255, 215, 0, 0.2);
            background: rgba(255, 255, 255, 0.08);
        }
        
        .admin-form button {
            background: linear-gradient(45deg, #ffd700, #ffed4e);
            color: #000;
            border: none;
            padding: 14px 28px;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .admin-form button:hover {
            background: linear-gradient(45deg, #ffed4e, #ffd700);
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(255, 215, 0, 0.4);
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .admin-panel {
            display: none;
        }
        
        .tab-content {
            display: none;
            padding: 20px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 10px;
            margin-top: 20px;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .admin-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .tab-button {
            padding: 10px 20px;
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid #ffd700;
            color: #ffd700;
            cursor: pointer;
            transition: all 0.3s;
            border-radius: 5px;
        }
        
        .tab-button.active {
            background: #ffd700;
            color: #111;
        }
        
        .grid-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .preview-image {
            max-width: 100px;
            height: auto;
            margin: 10px 0;
        }
        
        .submission-list {
            max-height: 500px;
            overflow-y: auto;
            padding: 10px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 5px;
        }
        
        .submission-item {
            padding: 10px;
            margin-bottom: 10px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 5px;
        }

        .logout-button {
            position: absolute;
            top: 20px;
            right: 20px;
        }

        @media (max-width: 768px) {
            .admin-container {
                padding: 10px;
            }
            
            .admin-login-form {
                margin: 20px auto;
            }
            
            .logout-button {
                position: relative;
                top: auto;
                right: auto;
                margin-bottom: 20px;
            }
            
            .admin-tabs {
                flex-direction: column;
            }
            
            .tab-content {
                padding: 15px;
            }
        }

        /* Advanced Admin Panel Styles */
        .advanced-form {
            background: linear-gradient(135deg, #1a1a1a, #2a2a2a);
            padding: 2rem;
            border-radius: 15px;
            border: 1px solid #333;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        .form-section {
            margin-bottom: 2.5rem;
            padding: 1.5rem;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 10px;
            border: 1px solid rgba(255, 215, 0, 0.1);
        }

        .form-section h4 {
            color: #ffd700;
            margin-bottom: 1rem;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .form-group textarea {
            min-height: 80px;
            resize: vertical;
            font-family: inherit;
        }

        .effect-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }

        .effect-checkbox {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            cursor: pointer;
            padding: 0.75rem;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .effect-checkbox:hover {
            background: rgba(255, 215, 0, 0.1);
            border-color: rgba(255, 215, 0, 0.3);
            transform: translateY(-1px);
        }

        .effect-checkbox input[type="checkbox"] {
            display: none;
        }

        .checkmark {
            width: 20px;
            height: 20px;
            border: 2px solid #666;
            border-radius: 4px;
            position: relative;
            transition: all 0.3s ease;
        }

        .effect-checkbox input:checked + .checkmark {
            background: linear-gradient(45deg, #ffd700, #ffed4e);
            border-color: #ffd700;
        }

        .effect-checkbox input:checked + .checkmark::after {
            content: '‚úì';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #000;
            font-weight: bold;
            font-size: 12px;
        }

        .form-actions {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 2rem;
            flex-wrap: wrap;
        }

        .preview-btn, .clear-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .preview-btn {
            background: linear-gradient(45deg, #4a90e2, #357abd);
            color: white;
        }

        .preview-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(74, 144, 226, 0.3);
        }

        .clear-btn {
            background: linear-gradient(45deg, #ff6b6b, #ff5252);
            color: white;
        }

        .clear-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.3);
        }

        .announcement-preview-section {
            background: #0a0a0a;
            padding: 2rem;
            border-radius: 15px;
            border: 2px solid #333;
            margin-bottom: 2rem;
        }

        .announcement-preview-section h4 {
            color: #ffd700;
            text-align: center;
            margin-bottom: 1rem;
        }

        .preview-container {
            position: relative;
            background: linear-gradient(135deg, #111, #222);
            border-radius: 10px;
            min-height: 200px;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .preview-screen {
            width: 100%;
            height: 100%;
            position: relative;
        }

        .preset-section {
            background: rgba(255, 255, 255, 0.02);
            padding: 1.5rem;
            border-radius: 10px;
            border: 1px solid #333;
            margin-top: 2rem;
        }

        .preset-section h4 {
            color: #ffd700;
            margin-bottom: 1rem;
            text-align: center;
        }

        .preset-buttons {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            justify-content: center;
        }

        .preset-btn {
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid #444;
            color: #fff;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .preset-btn:hover {
            background: rgba(255, 215, 0, 0.2);
            border-color: #ffd700;
            color: #ffd700;
            transform: translateY(-1px);
        }

        select[multiple] {
            min-height: 100px;
        }

        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .effect-options {
                grid-template-columns: 1fr;
            }
            
            .form-actions {
                flex-direction: column;
            }
            
            .preset-buttons {
                flex-direction: column;
            }
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
    <script defer src="js/particles-config.js"></script>
</head>
<body>
    <div id="particles-js"></div>

    <header>
        <div class="header-left">
            <img src="assets/logo.png" alt="Yukon Wildcats Logo">
        </div>
        <button class="mobile-menu-toggle" aria-label="Toggle mobile menu">‚ò∞</button>
        <nav class="header-right">
            <a href="index.html">Home</a>
            <a href="services.html">Services</a>
            <a href="snow.html">Snow Removal</a>
            <a href="tow.html">Towing</a>
            <a href="web-services.html">Web Services</a>
            <a href="community.html">Community</a>
            <a href="contact.html">Contact</a>
            <a href="legal.html">Legal Info</a>
        </nav>
        <div class="mobile-overlay"></div>
    </header>

    <div class="admin-container">
        <!-- Login Form -->
        <div id="loginForm" class="card hover-glow admin-login-form">
            <h2>üêæ Yukon Wildcats Admin Access</h2>
            <p style="text-align: center; color: #ccc; margin-bottom: 20px;">Admin panel for Yukon Wildcats team members and management.</p>
            
            <!-- Login Type Selector -->
            <div class="login-type-selector">
                <button type="button" class="login-type-btn active" onclick="setLoginType('founders')">
                    <i class="fas fa-users"></i> Founders
                </button>
                <button type="button" class="login-type-btn" onclick="setLoginType('staff')">
                    <i class="fas fa-user-tie"></i> Staff
                </button>
            </div>
            
            <form class="admin-form">
                <label for="username">Username:</label>
                <input type="text" id="username" required placeholder="Enter your username">
                
                <label for="password">Password:</label>
                <input type="password" id="password" required placeholder="Enter your password">
                
                <button type="submit" class="cta-button">Login</button>
            </form>
        </div>

        <!-- Admin Panel (hidden by default) -->
        <div id="adminPanel" class="admin-panel">
            <button onclick="logout()" class="cta-button logout-button">Logout</button>
            <h2>Welcome, <span id="userRole">Admin</span></h2>
            
            <div class="admin-tabs">
                <button class="tab-button active" data-tab="announcements">Announcements</button>
                <button class="tab-button" data-tab="content">Content</button>
                <button class="tab-button" data-tab="team">Team</button>
                <button class="tab-button" data-tab="photos">Photos</button>
                <button class="tab-button" data-tab="submissions">Submissions</button>
                <button class="tab-button" data-tab="webquotes">Web Quotes</button>
            </div>

            <!-- Announcements Tab -->
            <div id="announcementsTab" class="tab-content active">
                <h3>üéä Advanced Announcement System</h3>
                
                <!-- Live Preview Section -->
                <div class="announcement-preview-section">
                    <h4>Live Preview</h4>
                    <div id="announcementPreview" class="preview-container">
                        <div class="preview-screen">
                            <!-- Live preview will appear here -->
                        </div>
                    </div>
                </div>

                <!-- Announcement Configuration -->
                <form id="announcementForm" class="admin-form advanced-form">
                    <div class="form-section">
                        <h4>üìù Content Settings</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="announcementText">Announcement Text:</label>
                                <textarea id="announcementText" rows="3" required 
                                       placeholder="Enter your announcement message...">üéâ SPECIAL OFFER: 20% off all Web Development packages this month!</textarea>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="announcementIcon">Icon/Emoji:</label>
                                <input type="text" id="announcementIcon" value="üéâ" 
                                       placeholder="üéâ üì¢ ‚ö†Ô∏è üí° üîî">
                            </div>
                            <div class="form-group">
                                <label for="announcementPriority">Priority Level:</label>
                                <select id="announcementPriority">
                                    <option value="info">‚ÑπÔ∏è Info (Blue)</option>
                                    <option value="success">‚úÖ Success (Green)</option>
                                    <option value="warning">‚ö†Ô∏è Warning (Yellow)</option>
                                    <option value="urgent" selected>üö® Urgent (Red)</option>
                                    <option value="celebration">üéâ Celebration (Rainbow)</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h4>üé® Visual Effects</h4>
                        <div class="effect-options">
                            <label class="effect-checkbox">
                                <input type="checkbox" id="enableBubbles" checked>
                                <span class="checkmark"></span>
                                Floating Bubbles
                            </label>
                            <label class="effect-checkbox">
                                <input type="checkbox" id="enableGlow" checked>
                                <span class="checkmark"></span>
                                Glow Effect
                            </label>
                            <label class="effect-checkbox">
                                <input type="checkbox" id="enablePulse" checked>
                                <span class="checkmark"></span>
                                Pulse Animation
                            </label>
                            <label class="effect-checkbox">
                                <input type="checkbox" id="enableFloat">
                                <span class="checkmark"></span>
                                Float Movement
                            </label>
                            <label class="effect-checkbox">
                                <input type="checkbox" id="enableParticles" checked>
                                <span class="checkmark"></span>
                                Particle Effects
                            </label>
                            <label class="effect-checkbox">
                                <input type="checkbox" id="enableShake">
                                <span class="checkmark"></span>
                                Attention Shake
                            </label>
                        </div>
                    </div>

                    <div class="form-section">
                        <h4>‚öôÔ∏è Behavior Settings</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="animationSpeed">Animation Speed:</label>
                                <select id="animationSpeed">
                                    <option value="slow">üêå Slow (3s)</option>
                                    <option value="normal" selected>üö∂ Normal (2s)</option>
                                    <option value="fast">üèÉ Fast (1s)</option>
                                    <option value="hyper">‚ö° Hyper (0.5s)</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="displayDuration">Display Duration:</label>
                                <select id="displayDuration">
                                    <option value="5000">5 seconds</option>
                                    <option value="10000" selected>10 seconds</option>
                                    <option value="15000">15 seconds</option>
                                    <option value="30000">30 seconds</option>
                                    <option value="0">Until dismissed</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="positionStyle">Position Style:</label>
                                <select id="positionStyle">
                                    <option value="top">Top Banner</option>
                                    <option value="floating" selected>Floating Bubble</option>
                                    <option value="corner">Corner Notification</option>
                                    <option value="center">Center Modal</option>
                                    <option value="sidebar">Sidebar Slide</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="entranceEffect">Entrance Effect:</label>
                                <select id="entranceEffect">
                                    <option value="fade">Fade In</option>
                                    <option value="slide">Slide Down</option>
                                    <option value="bounce" selected>Bounce In</option>
                                    <option value="zoom">Zoom In</option>
                                    <option value="spin">Spin In</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h4>üéØ Targeting & Scheduling</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="targetPages">Show on Pages:</label>
                                <select id="targetPages" multiple>
                                    <option value="all" selected>All Pages</option>
                                    <option value="home">Home Page</option>
                                    <option value="services">Services</option>
                                    <option value="web-services">Web Services</option>
                                    <option value="snow">Snow Removal</option>
                                    <option value="contact">Contact</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <label class="effect-checkbox">
                                <input type="checkbox" id="announcementEnabled" checked>
                                <span class="checkmark"></span>
                                Enable Announcement System
                            </label>
                            <label class="effect-checkbox">
                                <input type="checkbox" id="autoReshow">
                                <span class="checkmark"></span>
                                Auto-reshow after page reload
                            </label>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="button" class="preview-btn" onclick="previewAnnouncement()">
                            <i class="fas fa-eye"></i> Preview Live
                        </button>
                        <button type="submit" class="cta-button">
                            <i class="fas fa-rocket"></i> Launch Announcement
                        </button>
                        <button type="button" class="clear-btn" onclick="clearAnnouncement()">
                            <i class="fas fa-trash"></i> Clear All
                        </button>
                    </div>
                </form>
                
                <!-- Quick Presets -->
                <div class="preset-section">
                    <h4>‚ö° Quick Presets</h4>
                    <div class="preset-buttons">
                        <button class="preset-btn" onclick="loadPreset('sale')">üõçÔ∏è Sale Alert</button>
                        <button class="preset-btn" onclick="loadPreset('new-service')">üÜï New Service</button>
                        <button class="preset-btn" onclick="loadPreset('maintenance')">üîß Maintenance</button>
                        <button class="preset-btn" onclick="loadPreset('celebration')">üéâ Celebration</button>
                        <button class="preset-btn" onclick="loadPreset('urgent')">üö® Urgent Notice</button>
                    </div>
                </div>
            </div>
            </div>

            <!-- Content Tab -->
            <div id="contentTab" class="tab-content active">
                <h3>Update Website Content</h3>
                <form id="contentForm" class="admin-form">
                    <label for="section">Select Section:</label>
                    <select id="section" required>
                        <option value="">Choose section...</option>
                        <option value="hero">Hero Section</option>
                        <option value="about">About Section</option>
                        <option value="services">Services Section</option>
                        <option value="community">Community Updates</option>
                    </select>

                    <label for="contentText">Content:</label>
                    <textarea id="contentText" rows="4" required></textarea>

                    <button type="submit" class="cta-button">Update Content</button>
                </form>
            </div>

            <!-- Team Tab -->
            <div id="teamTab" class="tab-content">
                <h3>Team Management</h3>
                <div class="grid-container">
                    <div class="card hover-glow">
                        <h4>Update Team Member</h4>
                        <form id="teamForm" class="admin-form">
                            <label for="memberSelect">Select Member:</label>
                            <select id="memberSelect" required>
                                <option value="lazarus">Lazarus Vanbibber</option>
                                <option value="micah">Micah Wolfe</option>
                                <option value="elias">Elias Wolfe</option>
                                <option value="noah">Noah Bucknell</option>
                                <option value="lily">Lily Menicoche</option>
                            </select>

                            <label for="memberTitle">Title:</label>
                            <input type="text" id="memberTitle" required>
                            
                            <label for="memberPhoto">Photo:</label>
                            <input type="file" id="memberPhoto" accept="image/*">
                            
                            <button type="submit" class="cta-button">Update Member</button>
                        </form>
                    </div>
                    <div id="teamPreview" class="card hover-glow">
                        <h4>Current Team</h4>
                        <!-- Team members will be displayed here -->
                    </div>
                </div>
            </div>

            <!-- Photos Tab -->
            <div id="photosTab" class="tab-content">
                <h3>Update Photos</h3>
                <div class="grid-container">
                    <div class="card hover-glow">
                        <h4>Service Icons</h4>
                        <form id="iconForm" class="admin-form">
                            <label for="iconSelect">Select Icon:</label>
                            <select id="iconSelect" required>
                                <option value="snow">Snow Removal</option>
                                <option value="tow">Towing</option>
                                <option value="excavator">Excavation</option>
                                <option value="dumptruck">Dump Truck</option>
                            </select>

                            <div id="currentIcon">
                                <!-- Current icon preview -->
                            </div>

                            <label for="newIcon">New Icon:</label>
                            <input type="file" id="newIcon" accept="image/*" required>
                            
                            <button type="submit" class="cta-button">Update Icon</button>
                        </form>
                    </div>
                    <div class="card hover-glow">
                        <h4>Company Logo</h4>
                        <form id="logoForm" class="admin-form">
                            <img src="assets/logo.png" alt="Current Logo" class="preview-image">
                            <label for="newLogo">New Logo:</label>
                            <input type="file" id="newLogo" accept="image/*" required>
                            <button type="submit" class="cta-button">Update Logo</button>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Submissions Tab -->
            <div id="submissionsTab" class="tab-content">
                <h3>Form Submissions</h3>
                <div id="submissionsList" class="submission-list">
                    <!-- Submissions will be loaded here -->
                </div>
            </div>

            <!-- Web Quotes Tab -->
            <div id="webquotesTab" class="tab-content">
                <h3>Web Development Quotes</h3>
                <div id="webQuotesList" class="submission-list">
                    <!-- Web quotes will be loaded here -->
                </div>
            </div>
        </div>
    </div>

    <footer>
        <p>¬© 2025 Yukon Wildcats Contracting | Whitehorse, Yukon</p>
    </footer>

    <script>
        // Local development API URL
        const API_URL = 'http://localhost:3000/api';
        let authToken = localStorage.getItem('yw_auth_token');
        let userRole = localStorage.getItem('yw_user_role');

        // DOM Elements
        const loginForm = document.querySelector('#loginForm');
        const adminPanel = document.querySelector('#adminPanel');
        const userRoleSpan = document.querySelector('#userRole');
        const tabButtons = document.querySelectorAll('.tab-button');
        const tabContents = document.querySelectorAll('.tab-content');
        const submissionsList = document.querySelector('#submissionsList');
        const contentForm = document.querySelector('#contentForm');
        const teamForm = document.querySelector('#teamForm');
        const iconForm = document.querySelector('#iconForm');
        const logoForm = document.querySelector('#logoForm');

        // Check authentication on load
        async function checkAuth() {
            if (!authToken) {
                showLoginForm();
                return;
            }

            try {
                const response = await fetch(`${API_URL}/submissions`, {
                    headers: {
                        'Authorization': `Bearer ${authToken}`
                    }
                });

                if (response.ok) {
                    showAdminPanel();
                    loadSubmissions();
                    loadTeamData();
                } else {
                    logout();
                }
            } catch (error) {
                console.error('Auth check failed:', error);
                logout();
            }
        }

        // Login form submission
        loginForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const username = document.querySelector('#username').value;
            const password = document.querySelector('#password').value;

            // Founders authentication
            if (currentLoginType === 'founders') {
                // Founder credentials for the three co-founders
                const founderCredentials = {
                    'lazarus': 'yukonwildcats2024!',
                    'micah': 'wildcat_micah2024',
                    'elias': 'elias_wildcat2024'
                };
                
                if (founderCredentials[username] && founderCredentials[username] === password) {
                    // Authenticate founder
                    authToken = 'founder-token-' + Date.now();
                    userRole = 'founder';
                    localStorage.setItem('yw_auth_token', authToken);
                    localStorage.setItem('yw_user_role', userRole);
                    localStorage.setItem('yw_founder_name', username);
                    localStorage.setItem('yw_founder_authenticated', 'true');
                    
                    // Show success message
                    showFounderWelcome(username);
                    setTimeout(() => {
                        showAdminPanel();
                        loadSubmissions();
                        loadTeamData();
                        updateFounderInterface(username);
                    }, 2000);
                    return;
                } else {
                    alert('Invalid founder credentials. Access denied.');
                    return;
                }
            }

            // Regular admin authentication via server
            try {
                const response = await fetch(`${API_URL}/login`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ username, password })
                });

                if (response.ok) {
                    const data = await response.json();
                    authToken = data.token;
                    userRole = data.role;
                    localStorage.setItem('yw_auth_token', authToken);
                    localStorage.setItem('yw_user_role', userRole);
                    showAdminPanel();
                    loadSubmissions();
                    loadTeamData();
                } else {
                    alert('Invalid admin credentials');
                }
            } catch (error) {
                console.error('Login failed:', error);
                alert('Login failed. Please try again.');
            }
        });

        // Tab switching
        tabButtons.forEach(button => {
            button.addEventListener('click', () => {
                tabButtons.forEach(btn => btn.classList.remove('active'));
                tabContents.forEach(content => content.classList.remove('active'));
                
                button.classList.add('active');
                document.querySelector(`#${button.dataset.tab}Tab`).classList.add('active');
            });
        });

        // Content form submission
        contentForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const section = document.querySelector('#section').value;
            const content = document.querySelector('#contentText').value;

            try {
                const response = await fetch(`${API_URL}/content`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${authToken}`
                    },
                    body: JSON.stringify({
                        location: section,
                        type: 'text',
                        content
                    })
                });

                if (response.ok) {
                    alert('Content updated successfully!');
                    contentForm.reset();
                } else {
                    alert('Failed to update content');
                }
            } catch (error) {
                console.error('Content update failed:', error);
                alert('Failed to update content');
            }
        });

        // Team form submission
        teamForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const formData = new FormData();
            formData.append('member', document.querySelector('#memberSelect').value);
            formData.append('title', document.querySelector('#memberTitle').value);
            if (document.querySelector('#memberPhoto').files[0]) {
                formData.append('photo', document.querySelector('#memberPhoto').files[0]);
            }

            try {
                const response = await fetch(`${API_URL}/team`, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${authToken}`
                    },
                    body: formData
                });

                if (response.ok) {
                    const data = await response.json();
                    alert('Team member updated successfully!');
                    teamForm.reset();
                    
                    // Update team preview
                    const teamPreview = document.querySelector('#teamPreview');
                    const team = data.team || [];
                    teamPreview.innerHTML = team.map(member => `
                        <div class="team-member">
                            <img src="${member.photo || 'assets/default-profile.png'}" alt="${member.name}" class="preview-image">
                            <h4>${member.name}</h4>
                            <p>${member.title}</p>
                        </div>
                    `).join('');
                } else {
                    const errorData = await response.json();
                    throw new Error(errorData.message || 'Failed to update team member');
                }
            } catch (error) {
                console.error('Team update failed:', error);
                alert(error.message || 'Failed to update team member. Please try again.');
            }
        });

        // Icon form submission
        iconForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const formData = new FormData();
            formData.append('icon', document.querySelector('#iconSelect').value);
            formData.append('file', document.querySelector('#newIcon').files[0]);

            try {
                const response = await fetch(`${API_URL}/upload`, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${authToken}`
                    },
                    body: formData
                });

                if (response.ok) {
                    alert('Icon updated successfully!');
                    iconForm.reset();
                    loadCurrentIcon();
                } else {
                    alert('Failed to update icon');
                }
            } catch (error) {
                console.error('Icon update failed:', error);
                alert('Failed to update icon');
            }
        });

        // Logo form submission
        logoForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const formData = new FormData();
            formData.append('file', document.querySelector('#newLogo').files[0]);

            try {
                const response = await fetch(`${API_URL}/upload`, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${authToken}`
                    },
                    body: formData
                });

                if (response.ok) {
                    alert('Logo updated successfully!');
                    logoForm.reset();
                    document.querySelectorAll('img[src="assets/logo.png"]').forEach(img => {
                        img.src = 'assets/logo.png?' + new Date().getTime();
                    });
                } else {
                    alert('Failed to update logo');
                }
            } catch (error) {
                console.error('Logo update failed:', error);
                alert('Failed to update logo');
            }
        });

        // Load submissions
        async function loadSubmissions() {
            try {
                // Load regular submissions
                const response = await fetch(`${API_URL}/submissions`, {
                    headers: {
                        'Authorization': `Bearer ${authToken}`
                    }
                });

                if (response.ok) {
                    const submissions = await response.json();
                    const regularSubmissions = submissions.filter(sub => sub.type !== 'web-development');
                    submissionsList.innerHTML = regularSubmissions.map(sub => `
                        <div class="submission-item">
                            <p><strong>Name:</strong> ${sub.name}</p>
                            <p><strong>Email:</strong> ${sub.email}</p>
                            <p><strong>Service:</strong> ${sub.service}</p>
                            <p><strong>Message:</strong> ${sub.message || ''}</p>
                            <p><strong>Date:</strong> ${sub.date}</p>
                        </div>
                    `).join('');

                    // Load web development quotes
                    const webQuotes = submissions.filter(sub => sub.type === 'web-development');
                    document.getElementById('webQuotesList').innerHTML = webQuotes.map(quote => `
                        <div class="submission-item">
                            <p><strong>Name:</strong> ${quote.name}</p>
                            <p><strong>Email:</strong> ${quote.email}</p>
                            <p><strong>Phone:</strong> ${quote.phone || 'Not provided'}</p>
                            <p><strong>Package:</strong> ${quote.package}</p>
                            <p><strong>Timeline:</strong> ${quote.timeline}</p>
                            <p><strong>Requirements:</strong> ${quote.requirements}</p>
                            <p><strong>Date:</strong> ${quote.date}</p>
                        </div>
                    `).join('');
                }
            } catch (error) {
                console.error('Failed to load submissions:', error);
            }
        }

        // Load team data
        async function loadTeamData() {
            try {
                const response = await fetch(`${API_URL}/team`, {
                    headers: {
                        'Authorization': `Bearer ${authToken}`
                    }
                });

                if (response.ok) {
                    const team = await response.json();
                    document.querySelector('#teamPreview').innerHTML = team.map(member => `
                        <div class="team-member">
                            <img src="${member.photo}" alt="${member.name}" class="preview-image">
                            <h4>${member.name}</h4>
                            <p>${member.title}</p>
                        </div>
                    `).join('');
                }
            } catch (error) {
                console.error('Failed to load team data:', error);
            }
        }

        // Load current icon
        function loadCurrentIcon() {
            const iconSelect = document.querySelector('#iconSelect');
            const currentIcon = document.querySelector('#currentIcon');
            currentIcon.innerHTML = `
                <img src="assets/${iconSelect.value}_icon.png" alt="${iconSelect.options[iconSelect.selectedIndex].text}" class="preview-image">
            `;
        }

        // Icon select change handler
        document.querySelector('#iconSelect').addEventListener('change', loadCurrentIcon);

        // Login type management
        let currentLoginType = 'founders';

        function setLoginType(type) {
            currentLoginType = type;
            const buttons = document.querySelectorAll('.login-type-btn');
            const title = document.querySelector('#loginForm h2');
            const subtitle = document.querySelector('#loginForm p');
            
            buttons.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            if (type === 'founders') {
                title.innerHTML = 'üêæ Yukon Wildcats Founders Access';
                subtitle.textContent = 'Founder login for Lazarus, Micah, and Elias - full business management access.';
                document.getElementById('username').placeholder = 'Founder username';
                document.getElementById('password').placeholder = 'Founder password';
            } else {
                title.innerHTML = 'üõ°Ô∏è Staff Access';
                subtitle.textContent = 'Staff login for team members with assigned administrative permissions.';
                document.getElementById('username').placeholder = 'Staff username';
                document.getElementById('password').placeholder = 'Staff password';
            }
        }

        // Helper functions
        function showLoginForm() {
            loginForm.style.display = 'block';
            adminPanel.style.display = 'none';
        }

        function showFounderWelcome(founderName) {
            const founderDisplayNames = {
                'lazarus': 'Lazarus',
                'micah': 'Micah', 
                'elias': 'Elias'
            };
            
            const displayName = founderDisplayNames[founderName] || founderName;
            
            const welcomeDiv = document.createElement('div');
            welcomeDiv.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: linear-gradient(135deg, #1a1a1a, #2a2a2a);
                border: 3px solid #ffd700;
                border-radius: 20px;
                padding: 40px;
                text-align: center;
                z-index: 10000;
                box-shadow: 0 20px 40px rgba(0,0,0,0.8);
            `;
            
            welcomeDiv.innerHTML = `
                <div style="font-size: 4em; margin-bottom: 20px;">üêæ</div>
                <h2 style="color: #ffd700; margin-bottom: 15px;">Welcome Back, ${displayName}!</h2>
                <p style="color: #ccc; margin-bottom: 20px;">Founder authentication successful</p>
                <p style="color: #ffd700; font-weight: bold;">Access granted to Yukon Wildcats management system</p>
                <div style="margin-top: 20px;">
                    <div class="loading-spinner" style="border: 3px solid #333; border-top: 3px solid #ffd700; border-radius: 50%; width: 30px; height: 30px; animation: spin 1s linear infinite; margin: 0 auto;"></div>
                </div>
            `;
            
            document.body.appendChild(welcomeDiv);
            
            setTimeout(() => {
                welcomeDiv.remove();
            }, 2000);
        }

        function updateFounderInterface(founderName) {
            if (userRole === 'founder') {
                const founderDisplayNames = {
                    'lazarus': 'Lazarus Vanbibber',
                    'micah': 'Micah Wolfe', 
                    'elias': 'Elias Wolfe'
                };
                
                const displayName = founderDisplayNames[founderName] || founderName;
                
                // Add founder-specific styling and features
                const panel = document.querySelector('#adminPanel');
                panel.style.background = 'linear-gradient(135deg, rgba(255,215,0,0.1), rgba(255,215,0,0.05))';
                
                // Update user role display
                userRoleSpan.innerHTML = `ÔøΩ Co-Founder: ${displayName}`;
                userRoleSpan.style.color = '#ffd700';
                userRoleSpan.style.fontWeight = 'bold';
                
                // Add founder badge to tabs
                const tabButtons = document.querySelectorAll('.tab-button');
                tabButtons.forEach(button => {
                    if (!button.querySelector('.founder-badge')) {
                        const badge = document.createElement('span');
                        badge.className = 'founder-badge';
                        badge.style.cssText = 'margin-left: 8px; background: #ffd700; color: #000; padding: 2px 6px; border-radius: 10px; font-size: 0.7em; font-weight: bold;';
                        badge.textContent = 'FOUNDER';
                        button.appendChild(badge);
                    }
                });
            }
        }

        function showAdminPanel() {
            loginForm.style.display = 'none';
            adminPanel.style.display = 'block';
            userRoleSpan.textContent = userRole.charAt(0).toUpperCase() + userRole.slice(1);
        }

        function logout() {
            localStorage.removeItem('yw_auth_token');
            localStorage.removeItem('yw_user_role');
            authToken = null;
            userRole = null;
            showLoginForm();
        }

        // Advanced Announcement System Functions
        function loadAnnouncementSettings() {
            const config = JSON.parse(localStorage.getItem('yw_announcement_config') || '{}');
            
            if (config.text) document.getElementById('announcementText').value = config.text;
            if (config.icon) document.getElementById('announcementIcon').value = config.icon;
            if (config.priority) document.getElementById('announcementPriority').value = config.priority;
            if (config.behavior) {
                document.getElementById('animationSpeed').value = config.behavior.speed || 'normal';
                document.getElementById('displayDuration').value = config.behavior.duration || 10000;
                document.getElementById('positionStyle').value = config.behavior.position || 'floating';
                document.getElementById('entranceEffect').value = config.behavior.entrance || 'bounce';
            }
            if (config.effects) {
                document.getElementById('enableBubbles').checked = config.effects.bubbles !== false;
                document.getElementById('enableGlow').checked = config.effects.glow !== false;
                document.getElementById('enablePulse').checked = config.effects.pulse !== false;
                document.getElementById('enableFloat').checked = config.effects.float === true;
                document.getElementById('enableParticles').checked = config.effects.particles !== false;
                document.getElementById('enableShake').checked = config.effects.shake === true;
            }
            document.getElementById('announcementEnabled').checked = config.enabled !== false;
            document.getElementById('autoReshow').checked = config.autoReshow === true;
        }

        function previewAnnouncement() {
            const config = getAnnouncementConfig();
            
            // Create temporary announcement system for preview
            if (window.advancedAnnouncement) {
                window.advancedAnnouncement.clearAnnouncement();
                window.advancedAnnouncement.config = config;
                window.advancedAnnouncement.preview();
            }
        }

        function getAnnouncementConfig() {
            return {
                text: document.getElementById('announcementText').value,
                icon: document.getElementById('announcementIcon').value,
                priority: document.getElementById('announcementPriority').value,
                effects: {
                    bubbles: document.getElementById('enableBubbles').checked,
                    glow: document.getElementById('enableGlow').checked,
                    pulse: document.getElementById('enablePulse').checked,
                    float: document.getElementById('enableFloat').checked,
                    particles: document.getElementById('enableParticles').checked,
                    shake: document.getElementById('enableShake').checked
                },
                behavior: {
                    speed: document.getElementById('animationSpeed').value,
                    duration: parseInt(document.getElementById('displayDuration').value),
                    position: document.getElementById('positionStyle').value,
                    entrance: document.getElementById('entranceEffect').value
                },
                enabled: document.getElementById('announcementEnabled').checked,
                autoReshow: document.getElementById('autoReshow').checked
            };
        }

        function clearAnnouncement() {
            if (confirm('Are you sure you want to clear all announcements?')) {
                localStorage.removeItem('yw_announcement_config');
                localStorage.removeItem('yw_announcement');
                localStorage.removeItem('yw_announcement_dismissed');
                
                if (window.advancedAnnouncement) {
                    window.advancedAnnouncement.clearAnnouncement();
                }
                
                alert('All announcements cleared!');
                loadAnnouncementSettings();
            }
        }

        function loadPreset(type) {
            const presets = {
                'sale': {
                    text: 'üõçÔ∏è SPECIAL SALE: 20% off all Web Development packages this month only!',
                    icon: 'üõçÔ∏è',
                    priority: 'celebration',
                    effects: { bubbles: true, glow: true, pulse: true, float: true, particles: true, shake: false },
                    behavior: { speed: 'normal', duration: 15000, position: 'floating', entrance: 'bounce' }
                },
                'new-service': {
                    text: 'üÜï NEW SERVICE ALERT: Now offering Advanced E-commerce Solutions!',
                    icon: 'üÜï',
                    priority: 'success',
                    effects: { bubbles: true, glow: true, pulse: false, float: false, particles: true, shake: false },
                    behavior: { speed: 'normal', duration: 12000, position: 'top', entrance: 'slide' }
                },
                'maintenance': {
                    text: 'üîß Scheduled maintenance tonight 11PM-2AM EST. Services may be briefly unavailable.',
                    icon: 'üîß',
                    priority: 'warning',
                    effects: { bubbles: false, glow: true, pulse: true, float: false, particles: false, shake: false },
                    behavior: { speed: 'slow', duration: 0, position: 'top', entrance: 'fade' }
                },
                'celebration': {
                    text: 'üéâ MILESTONE ACHIEVED: 100+ Happy Customers! Thank you for your trust!',
                    icon: 'üéâ',
                    priority: 'celebration',
                    effects: { bubbles: true, glow: true, pulse: true, float: true, particles: true, shake: false },
                    behavior: { speed: 'fast', duration: 20000, position: 'center', entrance: 'zoom' }
                },
                'urgent': {
                    text: 'üö® URGENT: Office temporarily closed due to weather. Emergency services still available!',
                    icon: 'üö®',
                    priority: 'urgent',
                    effects: { bubbles: false, glow: true, pulse: true, float: false, particles: false, shake: true },
                    behavior: { speed: 'fast', duration: 0, position: 'top', entrance: 'bounce' }
                }
            };
            
            const preset = presets[type];
            if (preset) {
                document.getElementById('announcementText').value = preset.text;
                document.getElementById('announcementIcon').value = preset.icon;
                document.getElementById('announcementPriority').value = preset.priority;
                document.getElementById('animationSpeed').value = preset.behavior.speed;
                document.getElementById('displayDuration').value = preset.behavior.duration;
                document.getElementById('positionStyle').value = preset.behavior.position;
                document.getElementById('entranceEffect').value = preset.behavior.entrance;
                
                document.getElementById('enableBubbles').checked = preset.effects.bubbles;
                document.getElementById('enableGlow').checked = preset.effects.glow;
                document.getElementById('enablePulse').checked = preset.effects.pulse;
                document.getElementById('enableFloat').checked = preset.effects.float;
                document.getElementById('enableParticles').checked = preset.effects.particles;
                document.getElementById('enableShake').checked = preset.effects.shake;
                
                // Auto-preview the preset
                setTimeout(previewAnnouncement, 100);
            }
        }

        // Handle advanced announcement form
        const announcementForm = document.querySelector('#announcementForm');
        if (announcementForm) {
            loadAnnouncementSettings();
            
            announcementForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                const config = getAnnouncementConfig();
                
                // Save configuration
                localStorage.setItem('yw_announcement_config', JSON.stringify(config));
                localStorage.removeItem('yw_announcement_dismissed'); // Allow re-showing
                
                // Update the announcement system
                if (window.advancedAnnouncement) {
                    window.advancedAnnouncement.updateAnnouncement(config);
                }
                
                alert('üöÄ Advanced announcement launched successfully! Check all website pages to see it in action.');
            });
            
            // Real-time preview updates
            const inputs = announcementForm.querySelectorAll('input, select, textarea');
            inputs.forEach(input => {
                input.addEventListener('change', () => {
                    // Auto-preview after small delay
                    setTimeout(previewAnnouncement, 300);
                });
            });
        }

        // Initialize
        checkAuth();
        if (document.querySelector('#iconSelect')) {
            loadCurrentIcon();
        }
    </script>
</body>
</html>